<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="jakarta.faces.facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="jakarta.faces.html"
    xmlns:f="jakarta.faces.core">
    <div class="p-1">
        <p:fieldset legend="Informations" class="mt-3" id="block">
            <div class="field sm:col-12 col-12 md:col-4 lg:col-4">
                <p:outputLabel for="addUser" value="Associer un utilisateur"/>
                <div>
                    <p:toggleSwitch id="addUser" value="#{personBean.addUser}"  
                                    onIcon="pi pi-check"
                                    offIcon="pi pi-times" >
                        <p:ajax update="block"/>
                    </p:toggleSwitch>
                </div>

            </div>
            <ui:fragment rendered="#{personBean.addUser}">
                <div class="form-grid grid ui-fluid">
                    <div class="field sm:col-12 col-12 md:col-4 lg:col-4">
                        <p:outputLabel value="username" for="username"/>
                        <p:inputText id="username" class="w-full" placeholder="username"
                                     required="true" requiredMessage="a mettre"
                                     />
                    </div>
                    <div class="field sm:col-12 col-12 md:col-4 lg:col-4">
                        <p:outputLabel value="password" for="pswd"/>
                        <p:password id="pswd" class="w-full" placeholder="password"
                                    required="true" requiredMessage="a mettre"
                                    />
                    </div>

                    <div class="field sm:col-12 col-12 md:col-4 lg:col-4">
                        <p:outputLabel value="Confirm password" for="cfpswd"/>
                        <p:password id="cfpswd" class="w-full" placeholder="Confirm password"
                                    required="true" requiredMessage="a mettre"
                                    />
                    </div>
                    <div class="field sm:col-12 col-12 md:col-4 lg:col-4">
                        <p:outputLabel value="role" for="role"/>
                        <p:selectManyMenu id="role" class="w-full"
                                              required="true" requiredMessage="a mettre">
                            <f:selectItem noSelectionOption="true" itemLabel="#{msg['choice-label']}"/>
                            <f:selectItems value="#{personBean.listSexes()}" itemValue="#{s}" var="s" itemLabel="#{s.label}"/>
                        </p:selectManyMenu>
                    </div>
                </div>
            </ui:fragment>
        </p:fieldset>
    </div>
</ui:composition>
