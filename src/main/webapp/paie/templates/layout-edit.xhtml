<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/xhtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="jakarta.faces.html">
<ui:composition template="/WEB-INF/templates/template.xhtml">
    <ui:define name="content">
        <h:form id="editForm">
            <div class="my-2 mx-5">
                <p:messages id="messages" showDetail="true" closable="true">
                    <p:autoUpdate/>
                </p:messages>

            </div>
            <div class="ui-g grid m-2">
                <ui:include src="head-title.xhtml"/>
                <div class="ui-g-12 col-12">
                    <div class="card">
                        <div class="ui-g grid">
                            <div class="ui-g-12 col-12">
                                <ui:insert name="fields">
                                    <p:fieldset legend="#{fieldsTitle}">
                                        <div class="form-grid grid ui-fluid">
                                            <ui:insert name="fields-content"/>
                                        </div>
                                    </p:fieldset>
                                </ui:insert>
                            </div>
                        </div>
                        <div class="ui-g grid mt-2">
                            <div class="ui-g-12 col-12">
                                <ui:insert name="form-actions">
                                    <p:commandButton value="Enregistrer" icon="fa fa-save"
                                                     class="ui-button-primary"
                                                     actionListener="#{crudBean.beforeSave()}"
                                                     action="#{crudBean.save()}"
                                                     rendered="#{!crudBean.isUpdating()}"
                                    >
                                        <p:confirm header="Confirmer" icon="ui-icon-alert"
                                                   message="Veuillez Confirmer"/>
                                    </p:commandButton>
                                    <p:spacer width="5"/>
                                    <p:commandButton value="Enregistrer" icon="fa fa-edit"
                                                     class="ui-button-primary"
                                                     actionListener="#{crudBean.beforeUpdate()}"
                                                     action="#{crudBean.update()}"
                                                     rendered="#{crudBean.isUpdating()}"
                                    >
                                        <p:confirm header="Confirmer" icon="ui-icon-alert"
                                                   message="Veuillez Confirmer"/>
                                    </p:commandButton>
                                    <p:spacer width="5"/>
                                    <p:button value="Annuler" icon="fa fa-remove"
                                              class="ui-button-danger"
                                              outcome="list?faces-redirect=true"
                                    />
                                    <p:spacer width="5"/>
                                    <ui:insert name="actions-plus"/>
                                </ui:insert>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
                <p:commandButton value="Oui" type="button"
                                 styleClass="ui-confirmdialog-yes" icon="ui-icon-check"/>
                <p:commandButton value="Non" type="button"
                                 styleClass="i-confirmdialog-no ui-button-flat" icon="ui-icon-close"/>
            </p:confirmDialog>
        </h:form>
    </ui:define>
</ui:composition>
</html>
